#/bin/bash

rm -rf a.out

if [ $1 ] ; then
	name=$1
else
	echo ''
	echo 'cr - wrong format'
	echo ''
	echo 'use as:'
	echo 'cr name.cpp input_file'
	echo ''
	exit
fi

if [ $2 ] ; then
	input=$2
fi

echo '-----------------------------------------------------------'
echo 'compile with C++98: '
echo '-----------------------------------------------------------'
echo ''
g++ $name

echo '-----------------------------------------------------------'
echo 'run: '
echo '-----------------------------------------------------------'

if [ $input ] ; then
	./a.out < $input
else
	./a.out
fi

rm -rf a.out

echo '-----------------------------------------------------------'
